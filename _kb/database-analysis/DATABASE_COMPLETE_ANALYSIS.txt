Loaded schema with 140 tables

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   INTELLIGENCE HUB - COMPLETE DATABASE ANALYSIS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Database: hdgwrzntwa
Extracted: 2025-11-03 08:03:00
Total Tables: 140
Total Relationships: 92


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
1. ORGANIZATIONAL HIERARCHY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Tables (4):
  â€¢ business_units (4 rows)
    - unit_id: int(11)
    - org_id: int(11)
    - unit_name: varchar(100)
    Sample data:
    {"unit_id":1,"org_id":1,"unit_name":"Intelligence Hub"}...
    {"unit_id":2,"org_id":1,"unit_name":"CIS - Central Information System"}...

  â€¢ organizations (1 rows)
    - org_id: int(11)
    - org_name: varchar(100)
    - parent_org_id: int(11)
    - redis_namespace: varchar(50)
    Sample data:
    {"org_id":1,"org_name":"Ecigdis Limited","org_type":"parent"}...

  â€¢ project_domains (11 rows)
    - id: int(11)
    - project_id: int(11)
    Sample data:
    {"id":12,"project_id":1,"domain":"gpt.ecigdis.co.nz"}...
    {"id":13,"project_id":2,"domain":"staff.vapeshed.co.nz"}...

  â€¢ project_unit_mapping (0 rows)
    - mapping_id: int(11)
    - project_id: int(11)
    - unit_id: int(11)

Relationships:
  ai_agent_requests.unit_id â†’ business_units.unit_id
  ai_conversations.org_id â†’ organizations.org_id
  ai_conversations.unit_id â†’ business_units.unit_id
  ai_models.org_id â†’ organizations.org_id
  ai_predictions.org_id â†’ organizations.org_id
  ai_tool_calls.unit_id â†’ business_units.unit_id
  business_units.org_id â†’ organizations.org_id
  intelligence_alerts.org_id â†’ organizations.org_id
  intelligence_automation.org_id â†’ organizations.org_id
  intelligence_content.org_id â†’ organizations.org_id
  intelligence_content.unit_id â†’ business_units.unit_id
  intelligence_metrics.org_id â†’ organizations.org_id
  intelligence_metrics.unit_id â†’ business_units.unit_id
  neural_patterns.org_id â†’ organizations.org_id
  organizations.parent_org_id â†’ organizations.org_id
  project_domains.project_id â†’ projects.id
  project_unit_mapping.project_id â†’ projects.id
  project_unit_mapping.unit_id â†’ business_units.unit_id
  redis_cache_config.org_id â†’ organizations.org_id
  redis_performance_metrics.org_id â†’ organizations.org_id
  system_configuration.org_id â†’ organizations.org_id
  system_health.org_id â†’ organizations.org_id

ğŸ“Š HIERARCHY DIAGRAM:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ organizations   â”‚ (org_id, org_name, parent_org_id, org_type)
â”‚    1 row        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â†’ business_units (business_unit_id, organization_id, unit_name)
         â”‚      4 rows
         â”‚
         â””â”€â†’ project_unit_mapping (links projects to business units)
                0 rows

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2. PROJECT MANAGEMENT SYSTEM
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Tables (8):
  â€¢ hub_projects (5 rows, 0 FKs)
  â€¢ project_metadata (3 rows, 1 FKs)
  â€¢ project_metrics (1 rows, 1 FKs)
  â€¢ project_requirements (5 rows, 1 FKs)
  â€¢ project_rule_violations (3 rows, 2 FKs)
  â€¢ project_rules (6 rows, 1 FKs)
  â€¢ project_scan_config (3 rows, 1 FKs)
  â€¢ project_standards (5 rows, 1 FKs)

ğŸ“Š PROJECT HIERARCHY:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   projects      â”‚ (id, project_name, project_path, business_unit_id)
â”‚    12 rows      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â†’ project_domains (domain, subdomain, full_url)
         â”‚      11 rows
         â”‚
         â”œâ”€â†’ project_metadata (key, value pairs)
         â”‚      3 rows
         â”‚
         â”œâ”€â†’ project_requirements (requirement_text, priority)
         â”‚      5 rows
         â”‚
         â”œâ”€â†’ project_rules (rule_name, rule_type)
         â”‚      6 rows
         â”‚
         â”œâ”€â†’ project_scan_config (scan settings)
         â”‚      3 rows
         â”‚
         â”œâ”€â†’ project_standards (standard_name, standard_type)
         â”‚      5 rows
         â”‚
         â””â”€â†’ project_metrics (files_count, violations_count)
                1 row

ACTUAL PROJECTS:
  â€¢ ID 1: Intelligence Hub (Scanner)
    Path: /home/master/applications/hdgwrzntwa/public_html
  â€¢ ID 2: CIS - Consignments Module
    Path: /home/master/applications/jcepnzzkmj/public_html/modules/consignments
  â€¢ ID 3: CIS - Supplier Portal
    Path: /home/master/applications/jcepnzzkmj/public_html/modules/supplier
  â€¢ ID 4: CIS - Purchase Orders
    Path: /home/master/applications/jcepnzzkmj/public_html/modules/purchase_orde
  â€¢ ID 5: CIS - Inventory Management
    Path: /home/master/applications/jcepnzzkmj/public_html/modules/inventory

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
3. INTELLIGENCE FILE SYSTEM
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Tables (9):
  â€¢ intelligence_alerts (0 rows)
  â€¢ intelligence_automation (0 rows)
  â€¢ intelligence_automation_executions (0 rows)
  â€¢ intelligence_content (22191 rows)
  â€¢ intelligence_content_text (11286 rows)
  â€¢ intelligence_content_types (31 rows)
  â€¢ intelligence_files (26121 rows)
  â€¢ intelligence_files_backup_20251025 (55357 rows)
  â€¢ intelligence_metrics (3000 rows)

ğŸ“Š INTELLIGENCE ARCHITECTURE:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ intelligence_files           â”‚ (NEW SYSTEM - Scanner V3)
â”‚       26,121 rows            â”‚
â”‚                              â”‚
â”‚ â€¢ project_id, business_unit_id
â”‚ â€¢ file_path, file_content    â”‚
â”‚ â€¢ intelligence_data (JSON)   â”‚
â”‚ â€¢ content_summary            â”‚
â”‚ â€¢ extracted_at               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”‚ UNIQUE KEY: (business_unit_id, file_path)
           â”‚
           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ intelligence_content         â”‚ (OLD SYSTEM - V2 Tools)
â”‚       22,191 rows            â”‚
â”‚                              â”‚
â”‚ â€¢ project_id, file_path      â”‚
â”‚ â€¢ content_type               â”‚
â”‚ â€¢ raw_content                â”‚
â”‚ â€¢ metadata (JSON)            â”‚
â”‚ â€¢ analysis_result            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€â†’ intelligence_content_text (11,286 rows)
           â”‚   Full-text search index
           â”‚
           â”œâ”€â†’ intelligence_content_types (31 types)
           â”‚   Type definitions
           â”‚
           â”œâ”€â†’ intelligence_metrics (3,000 rows)
           â”‚   Usage analytics
           â”‚
           â”œâ”€â†’ intelligence_automation (0 rows)
           â”‚   Automated actions
           â”‚
           â””â”€â†’ intelligence_alerts (0 rows)
               Alert rules

BACKUP TABLE:
â”‚ intelligence_files_backup_20251025 (55,357 rows) â”‚

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
4. SCANNER & CODE QUALITY SYSTEM
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Tables (11):
  â€¢ auto_fix_log (0 rows)
  â€¢ cis_rule_categories (10 rows)
  â€¢ cis_rule_learning_log (0 rows)
  â€¢ cis_rule_violations (0 rows)
  â€¢ cis_rules (0 rows)
  â€¢ scan_config (10 rows)
  â€¢ scan_history (0 rows)
  â€¢ scan_jobs (9 rows)
  â€¢ scan_logs (41481 rows)
  â€¢ scanner_ignore_config (146 rows)
  â€¢ violations (1 rows)

ğŸ“Š SCANNER PIPELINE:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  scan_config    â”‚ â†’ Project scan settings
â”‚    10 rows      â”‚   (ignore patterns, file types)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â†’ scan_jobs (9 jobs)
         â”‚      Job queue
         â”‚
         â”œâ”€â†’ scan_history (0 records)
         â”‚      Scan execution history
         â”‚
         â””â”€â†’ scan_logs (41,481 records!) âš ï¸
                Detailed scan output

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  scanner_ignore_config   â”‚
â”‚      146 patterns        â”‚ â†’ .git, node_modules, vendor, etc.
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   cis_rules     â”‚ â†’ Code quality rules
â”‚    0 rows       â”‚   (needs population)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â†’ cis_rule_categories (10 categories)
         â”‚      security, performance, best_practices
         â”‚
         â”œâ”€â†’ cis_rule_violations (0 violations)
         â”‚      Found issues
         â”‚
         â”œâ”€â†’ cis_rule_learning_log (0 records)
         â”‚      AI learning from feedback
         â”‚
         â””â”€â†’ cis_user_rule_preferences (0 prefs)
                User customizations

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   violations    â”‚ â†’ Generic violation tracker
â”‚     1 row       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ auto_fix_log    â”‚ â†’ Automatic fix attempts
â”‚    0 rows       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
5. COMPLETE FOREIGN KEY RELATIONSHIP MAP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Total Foreign Key Relationships: 92

â”Œâ”€ ai_agent_domains
â”‚   â† ai_agent_requests.domain_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ ai_conversations
â”‚   â† ai_agent_requests.conversation_id
â”‚   â† ai_conversation_messages.conversation_id
â”‚   â† ai_conversation_topics.conversation_id
â”‚   â† ai_memory.conversation_id
â”‚   â† ai_tool_calls.conversation_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ ai_conversation_messages
â”‚   â† ai_agent_requests.message_id
â”‚   â† ai_message_files.message_id
â”‚   â† ai_tool_calls.message_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ projects
â”‚   â† ai_agent_requests.project_id
â”‚   â† ai_conversations.project_id
â”‚   â† ai_tool_calls.project_id
â”‚   â† circular_dependencies.project_id
â”‚   â† code_dependencies.project_id
â”‚   â† file_dependencies.project_id
â”‚   â† intelligence_files.project_id
â”‚   â† project_domains.project_id
â”‚   â† project_metadata.project_id
â”‚   â† project_metrics.project_id
â”‚   â† project_requirements.project_id
â”‚   â† project_rule_violations.project_id
â”‚   â† project_rules.project_id
â”‚   â† project_scan_config.project_id
â”‚   â† project_standards.project_id
â”‚   â† project_unit_mapping.project_id
â”‚   â† scan_config.project_id
â”‚   â† scan_history.project_id
â”‚   â† scan_logs.project_id
â”‚   â† violations.project_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ business_units
â”‚   â† ai_agent_requests.unit_id
â”‚   â† ai_conversations.unit_id
â”‚   â† ai_tool_calls.unit_id
â”‚   â† intelligence_content.unit_id
â”‚   â† intelligence_metrics.unit_id
â”‚   â† project_unit_mapping.unit_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ organizations
â”‚   â† ai_conversations.org_id
â”‚   â† ai_models.org_id
â”‚   â† ai_predictions.org_id
â”‚   â† business_units.org_id
â”‚   â† intelligence_alerts.org_id
â”‚   â† intelligence_automation.org_id
â”‚   â† intelligence_content.org_id
â”‚   â† intelligence_metrics.org_id
â”‚   â† neural_patterns.org_id
â”‚   â† organizations.parent_org_id
â”‚   â† redis_cache_config.org_id
â”‚   â† redis_performance_metrics.org_id
â”‚   â† system_configuration.org_id
â”‚   â† system_health.org_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ intelligence_content
â”‚   â† ai_message_files.content_id
â”‚   â† intelligence_content_text.content_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ intelligence_files
â”‚   â† ai_message_files.file_id
â”‚   â† violations.file_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ ai_models
â”‚   â† ai_predictions.model_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ ai_tool_calls
â”‚   â† ai_tool_results.tool_call_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ violations
â”‚   â† auto_fix_log.violation_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ bot_instances
â”‚   â† bot_alerts.bot_instance_id
â”‚   â† bot_deployments.bot_instance_id
â”‚   â† bot_logs.bot_instance_id
â”‚   â† bot_metrics.bot_instance_id
â”‚   â† bot_project_assignments.bot_instance_id
â”‚   â† bot_project_tasks.assigned_bot_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ bot_servers
â”‚   â† bot_alerts.server_id
â”‚   â† bot_deployments.server_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ bot_projects
â”‚   â† bot_alerts.project_id
â”‚   â† bot_project_assignments.project_id
â”‚   â† bot_project_tasks.project_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ bot_event_chains
â”‚   â† bot_event_chain_executions.chain_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ cis_rules
â”‚   â† cis_rule_learning_log.rule_id
â”‚   â† cis_rule_violations.rule_id
â”‚   â† cis_user_rule_preferences.rule_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ cis_rule_categories
â”‚   â† cis_rules.category_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ content_index
â”‚   â† content_elements.content_id
â”‚   â† content_metrics.content_id
â”‚   â† content_relationships.source_content_id
â”‚   â† content_relationships.target_content_id
â”‚   â† kb_sections.content_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ cron_jobs
â”‚   â† cron_executions.job_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ hub_cron_jobs
â”‚   â† hub_cron_alerts.job_id
â”‚   â† hub_cron_executions.job_id
â”‚   â† hub_cron_metrics.job_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ hub_cron_satellites
â”‚   â† hub_cron_alerts.satellite_id
â”‚   â† hub_cron_metrics.satellite_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ intelligence_automation
â”‚   â† intelligence_automation_executions.automation_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ intelligence_content_types
â”‚   â† intelligence_content.content_type_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ kb_categories
â”‚   â† kb_categories.parent_category_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ kb_sections
â”‚   â† kb_links.dst_section_id
â”‚   â† kb_links.src_section_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ neural_patterns
â”‚   â† neural_pattern_relationships.source_pattern_id
â”‚   â† neural_pattern_relationships.target_pattern_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ project_rules
â”‚   â† project_rule_violations.rule_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”Œâ”€ project_scan_config
â”‚   â† scan_history.config_id
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
6. CRITICAL FINDINGS & RECOMMENDATIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… WELL-DESIGNED AREAS:
  â€¢ Intelligence system has both old (intelligence_content) and new
    (intelligence_files) tables for migration
  â€¢ Proper indexing on most tables (24 indexes on intelligence_files)
  â€¢ Business unit segregation via business_unit_id
  â€¢ Comprehensive audit logging (activity_logs, scan_logs)

âš ï¸  ISSUES IDENTIFIED:
  1. DUAL INTELLIGENCE SYSTEMS: Two separate intelligence tables
     - intelligence_content (22,191 rows) â† OLD, used by V2 tools
     - intelligence_files (26,121 rows) â† NEW, used by Scanner V3
     â†’ Need to migrate V2 tools to use intelligence_files

  2. BROKEN VIEWS:
     - kb_files: References invalid tables
     - simple_quality: View definition error
     â†’ Need to drop or fix these views

  3. MASSIVE LOG TABLE:
     - scan_logs: 41,481 records
     â†’ Consider archiving/rotation strategy

  4. UNPOPULATED RULE SYSTEM:
     - cis_rules: 0 rows (should have rules defined)
     - cis_rule_violations: 0 rows (scanner not recording violations)
     â†’ Scanner V3 may not be properly writing violations

  5. ORGANIZATIONAL HIERARCHY INCOMPLETE:
     - organizations: Only 1 row
     - business_units: Only 4 rows
     - project_unit_mapping: 0 rows (projects not linked to units!)
     â†’ Need to properly map projects to business units


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
7. RECOMMENDED ORGANIZATIONAL STRUCTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Based on the schema analysis, here is the CORRECT hierarchy:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ORGANIZATION                           â”‚
â”‚                    (organizations)                          â”‚
â”‚                         1 row                               â”‚
â”‚                                                             â”‚
â”‚   â€¢ org_id, org_name, org_type                             â”‚
â”‚   â€¢ parent_org_id (for nested orgs)                        â”‚
â”‚   â€¢ intelligence_level (basic/advanced/neural/quantum)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â”‚ organization_id
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BUSINESS UNITS                           â”‚
â”‚                  (business_units)                           â”‚
â”‚                       4 rows                                â”‚
â”‚                                                             â”‚
â”‚   â€¢ business_unit_id, unit_name                            â”‚
â”‚   â€¢ organization_id (FK)                                   â”‚
â”‚   â€¢ unit_type, is_active                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â”‚ business_unit_id
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PROJECTS                               â”‚
â”‚                    (projects)                               â”‚
â”‚                      12 rows                                â”‚
â”‚                                                             â”‚
â”‚   â€¢ id, project_name, project_path                         â”‚
â”‚   â€¢ business_unit_id (FK) â† MISSING IN CURRENT DATA!      â”‚
â”‚   â€¢ status, priority                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â”‚ project_id
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PROJECT DOMAINS                           â”‚
â”‚                 (project_domains)                           â”‚
â”‚                      11 rows                                â”‚
â”‚                                                             â”‚
â”‚   â€¢ domain, subdomain, full_url                            â”‚
â”‚   â€¢ project_id (FK)                                        â”‚
â”‚   â€¢ is_primary                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â”‚ Scanned files stored in:
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              INTELLIGENCE FILES (Scanner V3)                â”‚
â”‚                (intelligence_files)                         â”‚
â”‚                     26,121 rows                             â”‚
â”‚                                                             â”‚
â”‚   â€¢ project_id, business_unit_id                           â”‚
â”‚   â€¢ file_path, file_content                                â”‚
â”‚   â€¢ intelligence_data (JSON analysis)                      â”‚
â”‚   â€¢ UNIQUE KEY: (business_unit_id, file_path)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
8. REDUNDANT TABLES vs EMPTY BUT USEFUL TABLES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ—‘ï¸  REDUNDANT TABLES (SAFE TO DROP):
----------------------------------------------------------------------
  âŒ cron_executions
     Reason: Duplicate of hub_cron_executions (which has data)
     Action: DROP - use hub_* version instead

  âŒ cron_jobs
     Reason: Duplicate of hub_cron_jobs (which has data)
     Action: DROP - use hub_* version instead

  âŒ cron_metrics
     Reason: Duplicate of hub_cron_metrics (which has data)
     Action: DROP - use hub_* version instead

  âŒ cron_satellites
     Reason: Duplicate of hub_cron_satellites (which has data)
     Action: DROP - use hub_* version instead


âœ… EMPTY BUT USEFUL TABLES (KEEP FOR FUTURE USE):
----------------------------------------------------------------------

ğŸ“ AI/ML System (8 tables):
  â€¢ ai_idempotency_keys
    â†’ For future AI features and learning
  â€¢ ai_memory [1 FKs]
    â†’ For future AI features and learning
  â€¢ ai_message_files [3 FKs]
    â†’ For future AI features and learning
  â€¢ ai_models [1 FKs]
    â†’ For future AI features and learning
  â€¢ ai_predictions [2 FKs]
    â†’ For future AI features and learning
  â€¢ mcp_category_usage
    â†’ For future AI features and learning
  â€¢ mcp_routing_bandit
    â†’ For future AI features and learning
  â€¢ neural_pattern_relationships [2 FKs]
    â†’ For future AI features and learning

ğŸ“ Utility (24 tables):
  â€¢ api_dependencies
    â†’ Future use or logging
  â€¢ api_request_logs
    â†’ Future use or logging
  â€¢ cis_mcp_tool_usage
    â†’ Future use or logging
  â€¢ cis_user_rule_preferences [1 FKs]
    â†’ Future use or logging
  â€¢ class_relationships
    â†’ Future use or logging
  â€¢ code_dependencies [1 FKs]
    â†’ Future use or logging
  â€¢ config_dependencies
    â†’ Future use or logging
  â€¢ critical_table_operations
    â†’ Future use or logging
  â€¢ dashboard_config
    â†’ Future use or logging
  â€¢ dashboard_notifications
    â†’ Future use or logging
  â€¢ frontend_dependencies
    â†’ Future use or logging
  â€¢ function_usage
    â†’ Future use or logging
  â€¢ high_impact_files
    â†’ Future use or logging
  â€¢ hub_satellites
    â†’ Future use or logging
  â€¢ indexing_queue
    â†’ Future use or logging
  â€¢ redis_performance_metrics [1 FKs]
    â†’ Future use or logging
  â€¢ relationship_summary
    â†’ Future use or logging
  â€¢ search_analytics
    â†’ Future use or logging
  â€¢ search_cache
    â†’ Future use or logging
  â€¢ system_health [1 FKs]
    â†’ Future use or logging
  â€¢ table_usage
    â†’ Future use or logging
  â€¢ unused_functions
    â†’ Future use or logging
  â€¢ vscode_sync_config
    â†’ Future use or logging
  â€¢ vscode_sync_history
    â†’ Future use or logging

ğŸ“ Scanner System (4 tables):
  â€¢ auto_fix_log [1 FKs]
    â†’ Will be populated when Scanner V3 runs with rules
  â€¢ cis_rule_learning_log [1 FKs]
    â†’ Will be populated when Scanner V3 runs with rules
  â€¢ cis_rule_violations [1 FKs]
    â†’ Will be populated when Scanner V3 runs with rules
  â€¢ cis_rules [1 FKs]
    â†’ Will be populated when Scanner V3 runs with rules

ğŸ“ Bot Orchestration (8 tables):
  â€¢ bot_alerts [3 FKs]
    â†’ For bot deployment and automation
  â€¢ bot_deployments [2 FKs]
    â†’ For bot deployment and automation
  â€¢ bot_event_chain_executions [1 FKs]
    â†’ For bot deployment and automation
  â€¢ bot_event_chains
    â†’ For bot deployment and automation
  â€¢ bot_logs [1 FKs]
    â†’ For bot deployment and automation
  â€¢ bot_metrics [1 FKs]
    â†’ For bot deployment and automation
  â€¢ bot_project_tasks [2 FKs]
    â†’ For bot deployment and automation
  â€¢ chrome_operation_logs
    â†’ For bot deployment and automation

ğŸ“ Monitoring/Tracking (2 tables):
  â€¢ circular_dependencies [1 FKs]
    â†’ Will populate as system is used
  â€¢ scan_history [2 FKs]
    â†’ Will populate as system is used

ğŸ“ Knowledge Base (8 tables):
  â€¢ content_elements [1 FKs]
    â†’ For content management and linking
  â€¢ content_index
    â†’ For content management and linking
  â€¢ content_metrics [1 FKs]
    â†’ For content management and linking
  â€¢ content_relationships [2 FKs]
    â†’ For content management and linking
  â€¢ content_types
    â†’ For content management and linking
  â€¢ kb_links [2 FKs]
    â†’ For content management and linking
  â€¢ kb_sections [1 FKs]
    â†’ For content management and linking
  â€¢ kb_terms
    â†’ For content management and linking

ğŸ“ Cron Scheduling (4 tables):
  â€¢ cron_circuit_breaker
    â†’ For scheduled job management
  â€¢ cron_job_stats
    â†’ For scheduled job management
  â€¢ cron_schedule_minutes
    â†’ For scheduled job management
  â€¢ hub_cron_metrics [2 FKs]
    â†’ For scheduled job management

ğŸ“ Intelligence System (3 tables):
  â€¢ intelligence_alerts [1 FKs]
    â†’ For automated intelligence actions
  â€¢ intelligence_automation [1 FKs]
    â†’ For automated intelligence actions
  â€¢ intelligence_automation_executions [1 FKs]
    â†’ For automated intelligence actions

ğŸ“ Organizational (2 tables):
  â€¢ project_unit_mapping [2 FKs]
    â†’ CRITICAL: Needs data to link projects to units
  â€¢ unit_team_members
    â†’ CRITICAL: Needs data to link projects to units


ğŸ“Š SUMMARY:
----------------------------------------------------------------------
Total Tables: 140
Tables with Data: 67
Empty but Useful: 63
Redundant/Broken: 4

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
9. CRITICAL ACTION ITEMS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš¨ IMMEDIATE ACTIONS REQUIRED:

1. FIX ORGANIZATIONAL HIERARCHY:
   - project_unit_mapping has 0 rows!
   - Need to link all 12 projects to their business units
   - SQL: INSERT INTO project_unit_mapping (project_id, unit_id) VALUES ...

2. POPULATE SCANNER RULES:
   - cis_rules table is empty (0 rows)
   - Scanner V3 cannot detect violations without rules
   - Need to import rule definitions

3. MIGRATE MCP V2 TOOLS TO USE intelligence_files:
   - V2 tools use intelligence_content (22,191 rows)
   - V3 scanner uses intelligence_files (26,121 rows)
   - Need unified storage or route V2 to intelligence_files

4. FIX OR DROP BROKEN VIEWS:
   - kb_files and simple_quality reference invalid tables
   - Either fix view definitions or DROP them

5. ARCHIVE MASSIVE LOG TABLE:
   - scan_logs: 41,481 records
   - Implement log rotation/archival strategy


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ANALYSIS COMPLETE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Analysis generated successfully!
