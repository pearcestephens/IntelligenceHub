# Intelligence Hub

**Company:** Ecigdis Limited / The Vape Shed
**Purpose:** AI-Powered Central Intelligence System
**Stack:** PHP 8.1, MySQL, Bootstrap 4.2, jQuery 3.6
**Database:** hdgwrzntwa

---

## ðŸš€ Quick Start

```bash
# 1. Database connection test
mysql -u hdgwrzntwa -p'bFUdRjh4Jx' hdgwrzntwa -e "SELECT COUNT(*) FROM intelligence_content;"

# 2. Load app.php for core functionality
require_once 'app.php';

# 3. Access via browser
# https://gpt.ecigdis.co.nz
```

## ðŸ“Š Project Statistics

- **Total Files:** 857
- **Code Patterns:** 213 discovered
- **Database Tables:** 78 operational
- **Indexed Files:** 22,386 in intelligence_content
- **Active Bots:** 6
- **Cron Jobs:** 6 operational
- **Satellites:** 4 configured

## ðŸ—ï¸ Architecture

### Core Components

```
public_html/
â”œâ”€â”€ app.php              # Core bootstrap (loads DB, session, auth)
â”œâ”€â”€ ai-agent/            # AI automation system
â”œâ”€â”€ _automation/         # Cron jobs and utilities
â”œâ”€â”€ _kb/                 # Knowledge base
â”œâ”€â”€ api/                 # REST API endpoints
â”œâ”€â”€ docs/                # Documentation
â””â”€â”€ private_html/        # Secure files (configs, backups)
```

## ðŸ’¾ Database Structure

**Connection:**
```php
// app.php provides global $pdo connection
// Host: localhost
// Database: hdgwrzntwa
// Username: hdgwrzntwa
// Password: bFUdRjh4Jx
```

**Key Tables:**
- `intelligence_content` (22,386 rows) - File index
- `intelligence_files` (14,545 rows) - Full file content
- `bot_instances` (6 rows) - Active bots
- `hub_cron_jobs` (6 rows) - Scheduled tasks
- `mcp_sessions` (6 rows) - MCP tool sessions
- `code_standards` - Coding standards (user preferences)
- `code_patterns` - Discovered code patterns
- `code_dependencies` - File/class dependencies

## ðŸ“‹ Coding Standards (Enforced)

- **Database > driver:** `PDO`
- **Security > csrf:** `always`
- **Security > input_validation:** `always`
- **Security > output_escaping:** `always`
- **Database > name:** `hdgwrzntwa`
- **Database > user:** `hdgwrzntwa`
- **Framework > frontend:** `Bootstrap 4.2`
- **Framework > jquery:** `3.6`
- **Code > style:** `PSR-12`

## ðŸ” Discovered Patterns

### JSON API endpoint
- **Type:** api_endpoint
- **Quality:** good
- **Found in:** `ai-agent/backend.php`

### JSON API endpoint
- **Type:** api_endpoint
- **Quality:** good
- **Found in:** `ai-agent/cis-project-management.php`

### JSON API endpoint
- **Type:** api_endpoint
- **Quality:** good
- **Found in:** `ai-agent/api/bot-info.php`

### JSON API endpoint
- **Type:** api_endpoint
- **Quality:** good
- **Found in:** `ai-agent/api/chat-v2.php`

### JSON API endpoint
- **Type:** api_endpoint
- **Quality:** good
- **Found in:** `ai-agent/api/chat.php`

### JSON API endpoint
- **Type:** api_endpoint
- **Quality:** good
- **Found in:** `ai-agent/api/chat-enterprise.php`

### JSON API endpoint
- **Type:** api_endpoint
- **Quality:** good
- **Found in:** `ai-agent/api/PATCH_auth_insert_line_828.php`

### JSON API endpoint
- **Type:** api_endpoint
- **Quality:** good
- **Found in:** `ai-agent/api/health.php`

### JSON API endpoint
- **Type:** api_endpoint
- **Quality:** good
- **Found in:** `ai-agent/api/security.php`

### JSON API endpoint
- **Type:** api_endpoint
- **Quality:** good
- **Found in:** `ai-agent/api/domains.php`

## âš ï¸ Security Notes

- **Issues Found:** 130
- **High Severity:** 120
- See `.copilot/SECURITY.md` for details

## ðŸ› ï¸ Common Tasks

### Database Query
```php
require_once 'app.php';
// $pdo is now available globally
$stmt = $pdo->prepare("SELECT * FROM intelligence_content WHERE id = ?");
$stmt->execute([$id]);
$result = $stmt->fetch();
```

### Run Automation
```bash
cd _automation/utilities/context-generator
php ContextGeneratorMain.php
```

### Check System Health
```bash
mysql -u hdgwrzntwa -p'bFUdRjh4Jx' hdgwrzntwa -e "SHOW TABLE STATUS;"
```

## ðŸ¤– AI Agent Integration

This project uses AI agents for automated tasks:

```php
require_once 'ai-agent/AIAgent.php';
$agent = new AIAgent(['mode' => 'context_generation']);
$result = $agent->generateContent($prompt);
```

## ðŸ“š Documentation

Complete documentation in `/docs/` folder:

- `docs/README.md` - Documentation index
- `docs/planning/` - Project requirements and timeline
- `docs/database/` - Database schema and design
- `docs/systems/` - System specifications
- `docs/guides/` - Developer guides

---

**Last Updated:** 2025-10-30 21:20:28
**Generated by:** Context Generator v1.0.0
**Maintained by:** Ecigdis Limited
